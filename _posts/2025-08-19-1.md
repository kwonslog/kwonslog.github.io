---
published: true
layout: single
title: "React/Next.js 시작하기(1)"
excerpt: "설치/간단 예제 실행 및 확인"
date: 2025-08-19
last_modified_at: 2025-08-21
categories: [front-end]
tags: [react]
toc: true
---

### Create React App 사용 중단
  - 이제 react 프로젝트 생성은 Vite 를 사용하라고 공식 언급 됨.
    - https://react.dev/blog/2025/02/14/sunsetting-create-react-app
      <img width="898" height="297" alt="image" src="https://github.com/user-attachments/assets/6077dbeb-58f9-45fc-9cf2-423401cf6560" />
    - 그리고 실제 업무를 위해서라면 프레임워크 사용을 권장함.
      <img width="937" height="440" alt="image" src="https://github.com/user-attachments/assets/34791107-fb8c-4b79-90f5-3cd18d3d69fe" />
      
### Next.js 프레임워크 선택 이유
  - 파일 기반 라우팅
    > app/ 폴더의 파일·폴더 구조가 그대로 URL 경로가 되는 Next.js의 자동 라우팅 방식
    - app 폴더 구조만 맞추면 라우트가 자동 생성 → 라우팅 코드 최소화.
    - 초보자도 규칙만 익히면 팀 내 코드 일관성 유지 쉬움.
      
  - 다양한 렌더링 방식 지원 (SSR/SSG/ISR/CSR)
    > - SSR: 요청이 올 때마다 서버가 HTML을 즉시 만들어 최신 데이터를 보여줌.
    > - SSG: 빌드 시 미리 HTML을 만들어 두고 요청 시 그대로 제공해 가장 빠름.
    > - ISR: 정적 페이지를 제공하되 일정 시간마다 자동으로 다시 생성해 최신성을 유지함.
    - SEO 강화, 빠른 초기 로딩, 캐시 재생성 등 요구사항에 맞게 “페이지 단위”로 선택 가능.
    - revalidate 옵션으로 최신성과 성능을 균형 있게 조절.
    
  - 서버 컴포넌트(RSC)와 서버 액션
    > - 서버 컴포넌트(RSC): 서버에서 실행되어 HTML만 만들어 브라우저로 보냄 → JS 번들에 포함되지 않음.
    > - 클라이언트 컴포넌트: 브라우저에서 실행되는 컴포넌트 → 상호작용(UI 이벤트)이 가능.
    > - 서버 액션: 브라우저에서 실행되는 함수처럼 보이지만, 실제로는 서버에서 실행되는 함수.(기능 제한있는 베타 상태)
     
    - 서버에서 데이터 접근 가능 → 보안 강화, 클라이언트 번들 크기 감소.
    - 데이터 패칭 코드 단순화, 유지보수 편리.
      
  - 내장 기능 풍부
    - 이미지/폰트 최적화(next/image, next/font) → 성능 자동 개선.
    - 국제화(i18n), 메타데이터 관리, 미들웨어(엣지 인증·리다이렉트) 내장.
    > - 요청이 페이지에 도달하기 전에 엣지 서버에서 실행되어 인증·리다이렉트 같은 전처리를 빠르게 처리하는 기능
    
    - 별도 라이브러리 조합 부담이 적음.
  
  - 배포 및 운영 친화적
    - Vercel 같은 서버리스·엣지 플랫폼과 긴밀 통합 → 설정 최소화.
    - API Routes(BFF 패턴)로 웹과 API를 하나의 리포에서 관리 가능.
      > - React 13+ 이상부터 App Router 사용 가능(그 이전 버전은 Page Router 사용)
      > - react 에서 외부 서버와 통신이 필요하고 이때 서버의 API key 를 사용해야만 하는 경우 보안성을 위해 서버에서 실행되는 내부 API 를 만들수 있다.
      >   - 지정된 위치(app/api)에 route.ts 파일을 만들고 API 를 정의하면 사용이 가능.
    - 모니터링·웹Vitals 지원으로 운영 효율↑.
   
### Next.js 설치
1.버전 확인
- 현재 시점(2025.08.19) 기준 React 19 버전이 최신.
- Next.js 가 최신버전을 지원하는지 확인함.

| Next.js 버전           | React 19 지원 현황                                                        |
| --------------------   | --------------------------------------------------------------------- |
| **15.1 이상 (stable)** | **React 19 정식 지원** (양 라우터 모두 사용 가능) ([Next.js][1])                    |
| **15.0 (정식 출시)**   | App Router는 React 19 RC 사용, Pages Router는 React 18과 호환 ([Next.js][2]) |
| **15.4.7 (현재 최신)** | React 19 지원 유지 (버그 픽스 중심의 업데이트) ([npm][3])                            |

2.Node.js 설치 
- [nvm-setup v1.2.2 다운로드](https://github.com/coreybutler/nvm-windows/releases/download/1.2.2/nvm-setup.exe) 및 설치
- PowerShell(관리자)에서:

   ```powershell
   # 1) Node.js 20.19.4 설치
   nvm install 20.19.4

   # 2) 설치된 버전 확인
   nvm list

   # 3) 방금 설치한 버전을 활성화
   nvm use 20.19.4

   # 4) 현재 Node.js 버전 확인
   node -v #출력 : v20.19.4

   # 5) 현재 npm 버전 확인
   npm -v #출력 : 10.8.2
   ```

   > 왜 Node.js 20을 추천하는가?
   > - Next.js 공식 문서는 Node.js 18.18 이상을 요구. 권장 버전은 보통 이전 안정 LTS(20).
   > - 현재 Node 22가 상대적으로 최근에 LTS로 승격된 상태라 일부 패키지(특히 네이티브 의존성 있는 패키지)가 완전히 최적화되지 않았을 수 있기 때문.(안정성 문제)

3.프로젝트 생성(버전 고정)
- ```npx create-next-app@15.1.0 my-app --ts --eslint --app --src-dir --import-alias "@/*"```
  > <img width="721" height="141" alt="image" src="https://github.com/user-attachments/assets/71b3dbfa-2a19-4387-a3a0-4f7b4e5f3bc8" />
  
  > - Turbopack 은?
  >   - Next.js 팀(Vercel)이 만든 차세대 번들러.
  >   - Webpack을 대체하기 위해 Rust로 개발됨 → 훨씬 빠른 속도를 목표로 함.
  >   - 현재는 개발 서버(next dev)에서만 실험적으로 사용 가능하고, 프로덕션 빌드(next build)는 Webpack 기반이 기본

- cd my-app
    
- npm i -E next@15.1.0 react@19 react-dom@19 eslint-config-next@15.1.0
  > 핵심 패키지의 버전을 지정하여 고정.
- npm ls next react react-dom
  > 버전 확인
  >
  > <img width="574" height="229" alt="image" src="https://github.com/user-attachments/assets/a65c4c68-68e6-4d7b-8fe8-80bb218df237" />


4.개발 서버 실행
- npm run dev
  > 참고 : Turbopack 빌드 도구 사용시 더 빠르게 실행 된다. `npm run dev -- --turbo`
- 브라우저로 http://localhost:3000 접속해서 기본 페이지 확인 가능.

5.간단한 테스트 샘플 작성 및 실행
- Visual Studio Code 를 실행하고 my-app 폴더를 열고 코드를 작성한다.
- 프로젝트 루트에 `.env.local` 생성:

   ```
   API_BASE_URL=https://api.example.com
   NEXT_PUBLIC_APP_NAME=MyApp
   ```
   
- 서버 코드:

   ```ts
   // src/app/api/ping/route.ts
   export async function GET() {
     const url = process.env.API_BASE_URL; // 서버 전용
     return Response.json({ ok: true, api: url });
   }
   ```
- 클라이언트 코드:

  ```ts
  // src/app/ping/page.tsx
  "use client"; // 클라이언트 컴포넌트
  
  import { useEffect, useState } from "react";
  
  export default function PingPage() {
    const [data, setData] = useState<{
      ok: boolean;
      api: String;
    } | null>(null);
  
    useEffect(() => {
      async function fetchPing() {
        try {
          const res = await fetch("/api/ping");
          if (!res.ok) throw new Error("API 호출 실패");
          const json = await res.json();
          setData(json);
        } catch (err) {
          console.error(err);
        }
      }
      fetchPing();
    }, []);
  
    return (
      <main className="p-4">
        <h1 className="text-xl font-bold">Ping 테스트</h1>
        {data ? (
          <p>
            서버 응답: <strong>{data.ok}</strong> ( {data.api} )
          </p>
        ) : (
          <p>불러오는 중...</p>
        )}
      </main>
    );
  }
  ```
- 서버 코드 테스트 URL :  http://localhost:3000/api/ping
- 클라이언트 코드 테스트 URL : http://localhost:3000/ping

6.프로덕션 빌드 & 실행
- npm run build
- npm run start
